<main>
  <div class="container">
    <app-header></app-header>
    <div class="content">
      <div class="content-main">
        <div class="search-memb">
          <h1 class="title">会員名称で会員を検索します。検索条件無しの場合は全て表示されます。</h1>
          <form class="c-form" [formGroup]="form" (ngSubmit)="search()">
            <ul class="d-flex">
              <li class="form-group row">
                <label class="col-form-label">氏名:</label>
                <div class="col-sm"><input type="text" id="employeeName" formControlName="employeeName"></div>
              </li>
              <li class="form-group row">
                <label class="col-form-label">グループ:</label>
                <div class="col-sm">
                  <select id="departmentId" formControlName="departmentId" required>
                    <option value="">全て</option>
                    <option *ngFor="let item of departments" [value]="item.departmentId">{{item.departmentName}}
                    </option>
                  </select>
                </div>
              </li>
              <li class="form-group row">
                <div class="btn-group">
                  <button type="submit" class="btn btn-primary btn-sm">検索</button>
                  <button type="button" class="btn btn-secondary btn-sm" onclick="alert('Open ADM004');">新規追加</button>
                </div>
              </li>
            </ul>
          </form>
        </div>
        <div class="row row-table">
          <div class="css-grid-table box-shadow">
            <div class="css-grid-table-header">
              <div>ID</div>
              <ng-container *ngIf="ord_employee_name === 'ASC'; else elseBlock1">
                <div (click)="changeOrderEmployeeName()">
                  氏名 ▲▽
                </div>
              </ng-container>
              <ng-template #elseBlock1>
                <div (click)="changeOrderEmployeeName()">
                  氏名 ▼△
                </div>
              </ng-template>
              <div>生年月日</div>
              <div>グループ</div>
              <div>メールアドレス</div>
              <div>電話番号</div>
              <ng-container *ngIf="ord_certification_name === 'ASC'; else elseBlock2">
                <div (click)="changeOrderCertificationName()">
                  日本語能力 ▲▽
                </div>
              </ng-container>
              <ng-template #elseBlock2>
                <div (click)="changeOrderCertificationName()">
                  日本語能力 ▼△
                </div>
              </ng-template>
              <ng-container *ngIf="ord_end_date === 'ASC'; else elseBlock3">
                <div (click)="changeOrderEndDate()">
                  失効日 ▲▽
                </div>
              </ng-container>
              <ng-template #elseBlock3>
                <div (click)="changeOrderEndDate()">
                  失効日 ▼△
                </div>
              </ng-template>
              <div>点数</div>
            </div>
            <div class="css-grid-table-body">
              <ng-container *ngFor="let item of employees">
                <div class="bor-l-none">
                  <a routerLink="/user/detail">{{item.employeeId}}</a>
                </div>
                <div>{{item.employeeName}}</div>
                <div>{{item.employeeBirthDate | date: 'yyyy/MM/dd'}}</div>
                <div>{{item.departmentName}}</div>
                <div>{{item.employeeEmail}}</div>
                <div>{{item.employeeTelephone}}</div>
                <div>{{item.certificationName}}</div>
                <div>{{item.endDate | date: 'yyyy/MM/dd'}}</div>
                <div>{{ item.score }}</div>
              </ng-container>
            </div>
            <div class="pagin">
              <button class="btn btn-sm btn-pre btn-falcon-default" type="button" [disabled]="currentPage === 1"
                (click)="changePage(currentPage - 1)">
                <svg class="svg-inline--fa fa-chevron-left fa-w-10" aria-hidden="true" focusable="false"
                  data-prefix="fas" data-icon="chevron-left" role="img" xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 320 512" data-fa-i2svg="">
                  <path fill="currentColor"
                    d="M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z">
                  </path>
                </svg>
              </button>
              <ng-container *ngIf="totalPage > 0">
                <button class="btn btn-sm text-primary btn-falcon-default"
                  *ngFor="let item of [].constructor(totalPage); let i = index"
                  [ngClass]="{ active: i + 1 === currentPage}"
                  (click)="changePage(i + 1)"
                  >
                  {{i + 1}}
                </button>
              </ng-container>
              <button class="btn btn-sm btn-next btn-falcon-default" type="button"
                [disabled]="currentPage === totalPage" (click)="changePage(currentPage + 1)">
                <svg class="svg-inline--fa fa-chevron-right fa-w-10" aria-hidden="true" focusable="false"
                  data-prefix="fas" data-icon="chevron-right" role="img" xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 320 512" data-fa-i2svg="">
                  <path fill="currentColor"
                    d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z">
                  </path>
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <app-footer></app-footer>
  </div>
</main>